<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

        <installation version="1.0">
		    
		  <jar src="../wordpressinstaller-1.0-SNAPSHOT.jar"/>

          <info>
            <appname>Wordpress Installer</appname>
            <appversion>1.0</appversion>
          </info>

          <guiprefs width="600" height="480" resizable="no">
            <laf name="kunststoff">
              <os family="unix" />
            </laf>
            <modifier key="useHeadingPanel" value="yes"/>
            <modifier key="useHeadingForSummary" value="yes"/>
			<modifier key="headingImageOnLeft" value="yes"/>
            <modifier key="headingLineCount" value="2"/>
            <modifier key="headingFontSize" value="1.5"/>
            <modifier key="headingBackgroundColor" value="0x00ffffff"/>
            <modifier key="headingPanelCounter" value="text"/>
            <modifier key="headingPanelCounterPos" value="inHeading"/>
          </guiprefs>

          <locale>
            <langpack iso3="eng"/>
          </locale>

          <!-- Need to define ant properties we want to use during install as variables -->
          <variables>
            <variable name="app.name" value="Wordpress Installer"/>
			<variable name="app.version" value="1.0"/>
			<variable name="wordpress-izpack-installer.variable.logdir" value=""/>
			<variable name="wordpress-izpack-installer.variable.wwwdir" value=""/>			
			<variable name="wordpress-izpack-installer.variable.databasehost" value=""/>
			<variable name="wordpress-izpack-installer.variable.databaseusername" value=""/>
			<variable name="wordpress-izpack-installer.variable.databasepassword" value=""/>
			<variable name="wordpress-izpack-installer.variable.wordpressdatabasename" value=""/>
			<variable name="wordpress-izpack-installer.variable.installwordpressdb" value="false"/>
			<variable name="wordpress-izpack-installer.variable.wordpressfoldername" value="wordpress"/>		
          </variables>

		  <conditions>
			<condition type="variable" id="wordpress-izpack-installer.condition.dbinstallation">
				<name>wordpress-izpack-installer.variable.installwordpressdb</name>
				<value>true</value>
			</condition>
		  </conditions>
		  
          <resources>
		    <res id="userInputSpec.xml" src="userInputSpec.xml"/>
            <!--res id="box-out-32.png" src="@{install.res}/box-out-32.png"/>
            <res id="customicons.xml" src="@{install.res}/custom.icons.xml"/>
            <res id="CustomLangpack.xml_eng" src="@{install.res}/custom.eng.xml"/>
            <res id="HTMLInfoPanel.info" src="@{install.res}/license-notice.html"/>
            <res id="Heading.image" src="@{install.res}/heading-image.png"/>
            <res id="Installer.image" src="@{install.res}/side-image.png" />
            <res id="ProcessPanel.Spec.xml" src="@{build.dir}/processing-tasks.xml"/>
            <res id="userInputSpec.xml" src="@{build.dir}/userInputSpec.xml" />
            <res id="uninstaller.warning" src="@{install.res}/uninstall-warn.txt"/-->
            <!-- default-dir.txt is written by the calling build.xml -->
            <!--res id="TargetPanel.dir" src="@{install.res}/default-dir.txt"/-->
          </resources>
		  

          <panels>
            <panel classname="HelloPanel"/>
			<panel classname="PacksPanel"/>
			<panel classname="UserInputPanel" id="LogFilePath"/>
			<panel classname="UserInputPanel" id="SpecifyWebServerDir"/>
			<panel classname="UserInputPanel" id="MySqlDetails" condition="wordpress-izpack-installer.condition.dbinstallation"/>
			<panel classname="InstallPanel"/>
			<panel classname="ProcessPanel"/>
            <panel classname="SimpleFinishPanel"/>
            <!--panel classname="HTMLInfoPanel"/>
            <panel classname="TargetPanel"/>
            <panel classname="InstallationGroupPanel"/>
            <panel classname="PacksPanel"/>
            <panel classname="UserInputPanel" id="UserInputPanel.0"/>
            <panel classname="UserInputPanel" id="UserInputPanel.1"/>
            <panel classname="UserInputPanel" id="UserInputPanel.2"/>
            <panel classname="UserPathPanel"/>
            <panel classname="SummaryPanel"/>
            <panel classname="InstallPanel"/>
            <panel classname="ProcessPanel"/>
            <panel classname="SimpleFinishPanel"/-->
          </panels>
		  
		  
		  <processing>
		    <logfiledir>${wordpress-izpack-installer.variable.logdir}</logfiledir>
			<job name="Executing Wordpress DB Creation">
				<os family="windows" />
				<executeclass name="com.installers.CreateWordpressDb">
					<arg>${wordpress-izpack-installer.variable.databasehost}</arg>
					<arg>${wordpress-izpack-installer.variable.wordpressdatabasename}</arg>
					<arg>${wordpress-izpack-installer.variable.databaseusername}</arg>
					<arg>${wordpress-izpack-installer.variable.databasepassword}</arg>
				</executeclass>
			</job>
		  </processing>

          <!--listeners>
              <listener installer="SummaryLoggerInstallerListener">
                  <os family="windows"/>
              </listener>
          </listeners-->

          <packs>
            <pack name="Wordpress Sourcecode" required="no" >
              <description>Wordpress source code!</description>
              <fileset dir="wordpress-src" targetdir="${wordpress-izpack-installer.variable.wwwdir}/" />
            </pack>    
          </packs>

          <!-- The native libraries to add. This is required for creating shortcuts on Windows -->
          <!--native type="izpack" name="ShellLink.dll"/-->

        </installation>